<!DOCTYPE HTML>
<html>
<head>
	<title>Phone Gap Picture Capability</title>
	<meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
</head>
<body>
	<h1>Taking your pictures</h1>
	<div>Shoe Size<input type="text"></input>
	<div id="imageContainer">Image1<button onclick="invoke();">Capture Image</button></div><br>
	<div id="imageContainer">Image2<button onclick="invoke();">Capture Image</button></div><br>
	<div id="imageContainer">Image3<button onclick="invoke();">Capture Image</button></div><br>
	<div id="imageContainer">Image4<button onclick="invoke();">Capture Image</button></div><br>
	<div id="imageContainer">Image5<button onclick="invoke();">Capture Image</button></div><br>
	<div id="imageContainer">Image6<button onclick="invoke();">Capture Image</button></div><br>
	<script type="text/javascript" src="phonegap.js"></script>


<script>

var medFiles;
function invoke(){
    try{
    	navigator.device.capture.captureImage(captureSuccess, captureError, {limit: 1});
    }
    catch(err){
        var imageContainer = event.target.parentElement;
        var imageElement = document.createElement("div");
        imageElement.innerHTML = err;
        imageContainer.appendChild(imageElement);
    }
}

function captureSuccess(mediaFiles){

    var img = mediaFiles[0];
	medFiles.append(img);
	var imageContainer = event.target.parentElement;
	var imageElement = document.createElement("img");
    imageElement.src = "data:image/jpeg;base64," + img.fullPath;
	imageContainer.appendChild(imageElement);
}

function captureError(error){
	var msg = "An error occurred during capture: " + error.code;
	navigator.notification.alert(msg, null, "Uh oh!");
}

function uploadFile() {
    var ft = new FileTransfer(),
    path = medFile.fullPath,
    name = medFile.name;

    ft.upload(path,
        "http://my.domain.com/upload.php",
        function(result) {
            console.log('Upload success: ' + result.responseCode);
            console.log(result.bytesSent + ' bytes sent');

        },
        function(error) {
            console.log('Error uploading file ' + path + ': ' + error.code);
        },
        { fileName: name }
    ); 
}

</script>

</body>
</html>